parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"LUC5":[function(require,module,exports) {
function e(e){return t(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function t(e){if(Array.isArray(e)){for(var n=0,o=new Array(e.length);n<e.length;n++)o[n]=e[n];return o}}function a(e,n){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),o.push.apply(o,t)}return o}function r(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?a(o,!0).forEach(function(n){c(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(o).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function c(e,n,o){return n in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o,e}var i=function(){var e=document.querySelector(".booking"),n=document.querySelector(".each-stage__button--back");document.querySelectorAll(".fix-on-booking-pop-up").forEach(function(e){e.style.position="fixed"}),n.classList.add("display-none"),u(0),e.classList.remove("display-none"),e.classList.add("display-flex")},l=function(){var e=document.querySelector(".booking");e.classList.remove("display-flex"),e.classList.add("display-none"),document.querySelectorAll(".fix-on-booking-pop-up").forEach(function(e){e.style.position="static"})},s=function(e){var n=document.querySelector(".estimate-button");n.classList.add("estimate-button--modify"),n.innerHTML='<img src="/loading.28bc329d.gif" alt="loading animation" class="loading-gif">',console.log("mailer parameter is : ",e);emailjs.send("default_service","template_7JmuZoeD",e).then(function(e){console.log("SUCCESS!",e.status,e.text),setTimeout(function(){n.classList.remove("estimate-button--modify"),n.innerHTML="Get Estimate",alert("Your details have been sent, we will reply you shortly"),l()},1e4)},function(e){console.log("FAILED...",e),alert("Service down, try again later"),l()})},u=function(e){var n=document.querySelectorAll(".booking__form-each-stage"),o=document.querySelector(".progress__element"),t=[{index:0,value:0},{index:1,value:.25},{index:2,value:.5},{index:3,value:.75},{index:4,value:1}];console.log("index seen in handle rendered booking stage is : ",e),n.forEach(function(n,a){return n.classList.remove("display-none"),a!==e?n.classList.add("display-none"):(t.forEach(function(n){n.index==e&&(o.value=n.value)}),n.classList.remove("display-none"))});3===e&&m()},d=function(){var e={};return f.map(function(n){var o=n.data;if("form_contact_details"===n.UUID)return o.map(function(n){var o=n.value;switch(n.name){case"name":e=r({},e,{name:o}),console.log("name seen : ",e);break;case"tel":e=r({},e,{mobileTel:o}),console.log("tel seen : ",e);break;case"date":e=r({},e,{dateBooked:o}),console.log("date seen : ",e);break;case"email":e=r({},e,{userEmail:o}),console.log("email : ",e)}});"form_address_id"==n.UUID?o.map(function(n){var o=n.value;switch(n.name){case"user_address":e=r({},e,{userAddress:o}),console.log("user address : ",e)}}):"form_select_task"==n.UUID&&(console.log("car details value is : ",o),o.map(function(n){var o=n.value;switch(n.name){case"car_make":e=r({},e,{carMake:o}),console.log("car  make seen : ",e);break;case"car_model":e=r({},e,{carModel:o}),console.log("car model   : ",e);break;case"car_year":e=r({},e,{carYear:o}),console.log("car year : ",e)}}))}),console.log("return value is : ",e),e},m=function(){var e=document.querySelector(".confirmation__container__estimate-details");e.innerHTML="";var n=d();console.log("user details is : ",n);var o='\n        <h2>Booking Summary</h2>\n        <div class="confirmation__section">\n            <p>Name : '.concat(n.name,"</p>\n            <p>Mobile : ").concat(n.mobileTel,"</p>\n            <p>Date Booked : ").concat(n.dateBooked,'</p>\n        </div>\n        <div class="confrimation-section">\n            <p>Car Scan</p>\n            <p> ').concat(n.carMake,"</p>\n            <p> ").concat(n.carModel,"</p>\n            <p> ").concat(n.carYear,'</p>\n        </div>\n        <div class="confirmation-section">\n            <p>Where you require the service?</p>\n            <p> ').concat(n.userAddress,'</p>\n            <p>\n                Note: Your correct locality helps our\n                professionals reach you on time.\n            </p>\n        </div>\n        <div class="confirmation-section">\n            <a href="tel:+2348188354753"></a>\n        </div>\n    ');e.insertAdjacentHTML("afterbegin",o)},f=[],p=function(n,o,t){console.log("elements on submit is  : ",o);var a=e(o).filter(function(e){return"submit"!=e.type}).map(function(e){return{name:e.name,value:e.value}}),r=n.target.id,c=!1;f.forEach(function(e){e.UUID===r&&(c=!0)}),c?f[t]={UUID:r,data:e(a),index:t}:f=[].concat(e(f),[{UUID:r,data:e(a),index:t}]),console.log("final form value collection is : ",f),u(t+1)},v=function(n,o){var t=o-1,a=document.querySelectorAll(".booking__form_each-form")[t].elements,r=f[t].data;e(a).map(function(e){r.forEach(function(n){e.name===n.name&&(e.value=n.value)})}),console.log("index reversed is : ",t),u(t)},y=document.querySelectorAll(".book_service");y.forEach(function(e){e.addEventListener("click",function(){i()})});var g=document.getElementById("close_bookPopUp");g.addEventListener("click",function(){l()});var b=document.querySelectorAll(".each-stage__button--back");b.forEach(function(e,n){e.addEventListener("click",function(e){v(e,n)})});var h=document.querySelectorAll(".booking__form_each-form");h.forEach(function(e,n){e.addEventListener("submit",function(o){o.preventDefault(),console.log("Each booking form elements is : ",e.elements),p(o,e.elements,n)})});var _=document.querySelector(".estimate-button");_.addEventListener("click",function(){var e=d();s(e)});
},{}]},{},["LUC5"], null)
//# sourceMappingURL=/booking.b0c041d7.js.map